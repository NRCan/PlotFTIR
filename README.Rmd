---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# PlotFTIR

<!-- badges: start -->
[![R-CMD-check](https://github.com/pbulsink/PlotFTIR/actions/workflows/R-CMD-check.yaml/badge.svg)](https://github.com/pbulsink/PlotFTIR/actions/workflows/R-CMD-check.yaml)
[![codecov](https://codecov.io/gh/pbulsink/PlotFTIR/graph/badge.svg?token=zrndO2tPwv)](https://codecov.io/gh/pbulsink/PlotFTIR)
<!-- badges: end -->

([Français](#introduction-et-installation))

## Introduction and Installation
The goal of `PlotFTIR` is to easily and quickly kick-start the production of journal-quality Fourier Transform Infra-Red (FTIR) spectral plots in R using ggplot2. The produced plots can be published directly or further modified by ggplot2 functions.

You can install the development version of PlotFTIR from [GitHub](https://github.com/) with:

``` r
# install.packages("devtools")
devtools::install_github("pbulsink/PlotFTIR")
```

## Example Plots

This is a basic example which shows you how to plot a prepared set of FTIR spectra:

```{r basic_plot_en}
library(PlotFTIR)
plot_ftir(sample_spectra)
```

We can also plot spectra in a stacked/offset manner instead of overlaid:
```{r stack_plot_en}
plot_ftir_stacked(biodiesel)
```

Plots can be manipulated, for example, by zooming in on a range:
```{r biodiesel_zoom_en}
# Generate a plot
biodiesel_plot <- plot_ftir(biodiesel)
# Zoom to a specified range of 1850 to 1650 cm^-1
zoom_in_on_range(biodiesel_plot, c(1650, 1850))
```

## Data Sets

The package contains two datasets to provide example spectra for plotting:
* `biodiesel` is a set of diesels with 0 to 10 % FAMES (biodiesel) content, plus two known and one unknown diesel spectra.
* `sample_spectra` is a set of random FTIR spectra which includes spectra of pure toluene, isopropanol, and heptanes, as well as white printer paper and a polystyrene film.

An example of the `biodiesel` data set is below:
```{r biodiesel_head_en}
head(biodiesel)
```

## Data Manipulation

FTIR spectral data can be converted between absorbance and transmittance. Only one type of data can exist in a data.frame and be plotted. The functions `absorbance_to_transmittance()` and `transmittance_to_absorbance()` perform these conversions.

```{r convert_datatype_en}
biodiesel_transm <- absorbance_to_transmittance(biodiesel)
head(biodiesel_transm)
```

## Code of Conduct

Please note that the PlotFTIR project is released with a [Contributor Code of Conduct](CODE_OF_CONDUCT.md). By contributing to this project, you agree to abide by its terms.


([English](#introduction-and-installation))

## Introduction et installation

L'objectif de PlotFTIR est de démarrer facilement et rapidement la production des tracés spectraux de spectroscopie infrarouge à transformée de Fourier (FTIR) de qualité journal dans R à l'aide de ggplot2. Les tracés produits peuvent être publiés directement ou modifiés davantage par les fonctions ggplot2.

Vous pouvez installer la version de développement de PlotFTIR depuis [GitHub](https://github.com/) avec :

``` r
# install.packages("devtools")
devtools::install_github("pbulsink/PlotFTIR")
```

## Exemples des tracés
Ceci est un example de base qui vous montre comment tracer un ensemble prépar de spectres FTIR:

```{r basic_plot_fr}
library(PlotFTIR)
plot_ftir(sample_spectra)
```

Nous pouvons également tracer les spectres de manière empilée/décalée au lieu de les superposer :
```{r stack_plot_fr}
plot_ftir_stacked(biodiesel)
```

Les tracés peuvent être manipulés, par exemple, en zoomant sur une plage :
```{r biodiesel_zoom_fr}
# Générer un tracé
biodiesel_trace <- plot_ftir(biodiesel)
# Zoom sur une plage spécifiée de 1850 à 1650 cm^-1
zoom_in_on_range(biodiesel_trace, c(1650, 1850))
```

## Ensembles des données

Le package contient deux ensembles de données pour fournir des exemples de spectres à tracer :
* `biodiesel` est un ensemble de diesels avec une teneur en FAMES (biodiesel) de 0 à 10 %, plus deux spectres de diesel connus et un inconnu.
* `sample_spectra` est un ensemble de spectres FTIR aléatoires qui comprennent des spectres de toluène pur, d'isopropanol et d'heptanes, ainsi que du papier d'imprimante blanc et un film de polystyrène.

Un exemple de l'ensemble de données `biodiesel` est ci-dessous:
```{r biodiesel_head_fr}
head(biodiesel)
```

## Manipulation de données

Les données spectrales FTIR peuvent être converties entre l'absorbance et la transmission. Un seul type de données peut exister dans un data.frame et être tracé. Les fonctions `absorbance_to_transmittance()` et `transmittance_to_absorbance()` effectuent ces conversions.

```{r convert_datatype_fr}
biodiesel_transm <- absorbance_to_transmittance(biodiesel)
head(biodiesel_transm)
```

## Code de conduite

Veuillez noter que le projet PlotFTIR est publié avec un [Code de conduite pour le projet](CODE_OF_CONDUCT.md). En contribuant à ce projet, vous acceptez d'en respecter les termes.
